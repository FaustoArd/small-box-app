<app-navbar></app-navbar>
<body>
    

<div class="container-fluid">
    <div class="row ">
        <div class="col-2"></div>
        <div class="col-4  mt-3">
            <h1 class="text-center mt-2">Memo</h1>
            <form class="text-center" [formGroup]="memoFormBuilder">
            <div class="form-group">
                <label for="date" class="form-label">Fecha</label>
                <input  type="date" class="form-control "formControlName="date" id="date">
                <div *ngIf="date.invalid && (date.dirty || date.touched)" class="text-danger">
                    <div *ngIf="date.errors?.['required']">
                    Falta la fecha
                    </div>
                   </div>
            </div>
            <div class="form-group">
                <label for="corresponds" class="form-label">Corresponde</label>
                <input type="text" class="form-control "formControlName="corresponds" id="corresponds">
                <div *ngIf="corresponds.invalid && (corresponds.dirty || corresponds.touched)" class="text-danger">
                    <div *ngIf="corresponds.errors?.['required']">
                    Falta la fecha
                    </div>
                   </div>
            </div>
            <div class="form-group w-75 text-center ">
                <label for="organizationId" class="form-label fs-7  ">Producido por</label>
                <select id="organizationId" formControlName="organizationId" class="form-select  border-dark ">
                    <option type="text" class="form-control border-dark " *ngFor="let org of organizations"
                        id="organizationId" [value]="org.id">
                        {{org.organizationName}}</option>
                       
                </select>
               
            </div>
          
            <div class="form-group">
                <label for="producedBy" class="form-label">Texto</label>
                <textarea id="input-text" type="text" class="form-control" formControlName="text"></textarea>
               
            </div>
            <button class="btn mt-1" (click)="createMemo()">Finalizar</button>
           </form>
        </div>
        <div class="col-md-1"></div>
        <div class="col-4 mt-3">
            <h2 id="destTitle">Seleccionar destinatarios</h2>
            <form [formGroup]="destinationsFormBuilder">
                <div class="form-group w-75 text-center ms-2 ">
                   <select id="destination" formControlName="destination" class="form-select  border-dark ">
                        <option type="text" class="form-control border-dark " *ngFor="let destination of destinationsList"
                            id="destination" [value]="destination">
                            {{destination}}</option>
                           
                    </select>
                    <button class="btn mt-1" (click)="addSelectedDestination()">Agregar</button>
                </div>
               
            </form>
            <div class="mt-4">
                <h2 *ngIf="destinations.length>0" class="ms-4">Destinos Agregados:</h2>
                <ul  *ngFor="let dest of destinations">
                    <li class="d-inline">{{dest}}</li>
                    <button id="btn_delete" class="btn-sm d-inline ms-2 mb-2" (click)="deleteSelectedDestination(dest)">Eliminar</button>
                </ul>
            </div>
        </div>
     
    </div>
</div>
</body>

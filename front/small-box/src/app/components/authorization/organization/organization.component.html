<app-navbar></app-navbar>
<div class="container-fluid mt-4">
  <div class="row">
    <div class="col-md-7"></div>
    <div class="col-md-4 ms-3">
      <div *ngIf="userSelected!=null || undefined">
        <span>Usuario seleccionado: </span>
      <h2>{{userSelected.name}} {{userSelected.lastname}}</h2>
      </div>
    </div>
  </div>
  <div class="row mt-3">
   <div class="col-md-4 ms-3">
      <table id="userTable" class="table table-md table-bordered table-striped  w-100" >
        <thead >
          <tr>
            <th  scope="col">ID</th>
            <th scope="col">Nombre</th>
            <th scope="col">Apellido</th>
            <th scope="col">Username</th>
            <th scope="col">Email</th>
            <th scope="col">Sel</th>
           
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of usersDto">
            <th scope="row">{{user.id}}</th>
            <td>{{user.name}}</td>
            <td>{{user.lastname}}</td>
            <td>{{user.username}}</td>
            <td>{{user.email}}</td>
            <td class="mt-2">
              <button (click)="selectUser(user.id)" class="btn btn-sm mx-2 " >-</button>
            </td>
           </tr>

        </tbody>
      </table>
    </div>
    <div class="col-md-3">
      <table id="userTable" class="table table-sm table-bordered table-striped w-100" >
        <thead >
          <tr>
            <th  scope="col">ID</th>
            <th scope="col">Dependencia</th>
            <th scope="col">Numero</th>
            <th scope="col">Asignar</th>
            
        </thead>
        <tbody>
          <tr *ngFor="let org of organizationsDto">
            <th scope="row">{{org.id}}</th>
            <td>{{org.organizationName}}</td>
            <td>{{org.organizationNumber}}</td>
           <td>
              <button class="btn btn-sm mx-2" (click)="assignOrganizationToUser(org.id)">-</button>
            
            </td>
           
          </tr>

        </tbody>
      </table>
    </div>
    <div class="col-md-3">
      <table id="userTable" class="table table-sm table-bordered table-striped w-75" >
        <thead >
          <tr>
            <th  scope="col">ID</th>
            <th scope="col">Dependencia</th>
            <th scope="col">Numero</th>
           <th scope="col">Eliminar</th>
        </thead>
        <tbody>
          <tr *ngFor="let org of orgsSelected">
            <th scope="row">{{org.id}}</th>
            <td>{{org.organizationName}}</td>
            <td>{{org.organizationNumber}}</td>
          
            <td>
              <button class="btn btn-sm mx-2" (click)="deleteOrganizationFromUser(org.id)">-</button>
            
            </td>
          </tr>

        </tbody>
       
      </table>
      
     </div>
     <div class="col-md-1">
      <button  id="btnApply" *ngIf="selectedUserId!=null" (click)="addOrganizationsToUser()" class="btn">Aplicar</button>
    </div>
   
     
    
  </div>

      
   
</div>
<app-navbar></app-navbar>

<body>
    <div class="container-flex text-center">
        <div class="row">
            <div class="col mt-2">
                <div class="barofcolourRed mt-0">
                    <h1 class="text-center">INBOX</h1>
                </div>

            </div>
        </div>
        <div id="titleRow" class="row mt-3">

            <div class="col-md-2 mt-3 ms-2">
                <div class="barofcolourColumn mt-0">
                    <h2> Fecha</h2>
                </div>
                <hr class="my-4">
            </div>
            <div class="col-md-3 mt-3">
                <div class="barofcolourColumn mt-0">
                    <h2>ORIGEN</h2>
                </div>
                <hr class="my-4">
            </div>
            <div class="col-md-1 mt-3">
                <div class="barofcolourColumn mt-0">
                    <h2>ITEMS</h2>
                </div>
                <hr class="my-4">
            </div>
            <div class="col-md-3  mt-3">
                <div class="barofcolourColumn mt-0">
                    <h2>Codigo de envio</h2>
                </div>
                <hr class="my-4">
            </div>
            <div class="col-md-2  mt-3">
                <div class="barofcolourColumn mt-0">
                    <h2>-</h2>
                </div>
                <hr class="my-4">
            </div>
        </div>
        <div *ngFor="let receiver of depositReceiverDtos" class="row">


            <div class="col-md-2 ms-2">
                <h3>{{receiver.receptionDate}}</h3>
                <hr class="my-4">
            </div>
            <div class="col-md-3">
                <h3>{{receiver.fromOrganizationName}}</h3>
                <hr class="my-4">
            </div>
            <div class="col-md-1">
               <button (click)="openDialogDepositCreation(depositControlReceiversTemplate,receiver.id)" class="btn btn-sm">-</button>
                <hr class="my-4">
            </div>
            <div class="col-md-3">
                <h3>{{receiver.depositRequestCode}}</h3>
                <hr class="my-4">
            </div>
            <div class="col-md-2">
                <div *ngIf="!receiver.readed">
                    <button (click)="markAsReaded(receiver.id)" class="btn btn-lg">Marcar como leido</button>
                    <hr class="my-4">
                </div>
                <div *ngIf="receiver.readed">
                    <img id="thumbsUp" class="ms-1 mt-1" src="./assets/img/thumbs-up-regular.svg">
                    <hr class="my-4">
                </div>
            </div>
        </div>
    </div>
</body>
<ng-template #depositControlReceiversTemplate>
    <button id="closeButton" (click)="onCloseDepositCreationTemplate()" class="btn btn-sm text-white">X</button>
    <div class="row">
        <div class="col">
            <div class="barofcolourRed mt-3">-</div>
        </div>
    </div>
    <div class="row mt-2">
        <div class="col-md-1">
           
            <h4 class=" mt-1 ms-3">CODIGO:</h4>
        </div>
      <div class="col-md-6">
            <h3>{{depositReceiverDataShow.depositRequestCode}}</h3>
        </div>
    </div>
    <div class="row mt-1">
        <div class="col-md-1">
           
            <h4 class=" mt-1 ms-3">ORIGEN:</h4>
        </div>
      <div class="col-md-6 ">
            <h3>{{depositReceiverDataShow.fromOrganizationName}}</h3>
        </div>
        <div class="col-md-2"></div>
        <div class="col-md-2">
            <small class="fw-bold text-dark">{{depositReceiverDataShow.receptionDate|date: 'dd-MM-yyyy'}}</small>
        </div>
    </div>
   
    <div class="row">
        <div class="col-md-1"></div>
        
     
    </div>
    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-6">
           <hr class="my-4">
        </div>
    </div>
 <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-10">
            <table class="table table-flex table-bordered">
                <thead>
                    <tr>
                        <th scope="col">CODIGO</th>
                            <th scope="col">U.MEDIDA</th>
                            <th scope="col">DESCRIPCION</th>
                           <th scope="col">CANTIDAD</th>
                </thead>
                <tbody>
                    <tr *ngFor="let controlReceivce of depositControlReceiverDtos">
                        <td id="fullBlue_td">{{controlReceivce.itemCode}}</td>
                        <td>{{controlReceivce.itemMeasureUnit}}</td>
                        <td>{{controlReceivce.itemDescription}}</td>
                        <td *ngIf="controlReceivce.itemQuantity>=10" class="text-success fw-bold">{{controlReceivce.itemQuantity}}</td>
                        <td *ngIf="controlReceivce.itemQuantity<10" class="text-danger fw-bold">{{controlReceivce.itemQuantity}}</td>
                        </tr>
                  

                </tbody>
            </table>
        </div>
    </div>
</ng-template>